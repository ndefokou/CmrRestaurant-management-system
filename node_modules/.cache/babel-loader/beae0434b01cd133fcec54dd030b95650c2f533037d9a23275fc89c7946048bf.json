{"ast":null,"code":"import React from'react';import OrderCard from'../components/OrderCard/OrderCard';import{Box,Typography}from'@mui/material';import{BookingUpdate,TableFilterByStatus}from'../API/Table';import{useMutation,useQuery,useQueryClient}from'@tanstack/react-query';import Loader from'../components/Loading/Loading';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManageBooking=function ManageBooking(){var queryClient=useQueryClient();var _useQuery=useQuery({queryKey:[\"booking\"],queryFn:TableFilterByStatus}),isLoading=_useQuery.isLoading,data=_useQuery.data;var _useMutation=useMutation({mutationFn:BookingUpdate,onSuccess:function onSuccess(){queryClient.invalidateQueries([\"booking\"]);toast.error(\"Table Booking Cancel!\");}}),deleteBookingMutation=_useMutation.mutateAsync;var BookingData=data||[];return/*#__PURE__*/_jsxs(Box,{className:\"orders\",children:[/*#__PURE__*/_jsx(Typography,{className:\"first-title\",variant:\"h6\",children:\"Orders\"}),/*#__PURE__*/_jsx(Typography,{className:\"second-title\",variant:\"h4\",children:\"Your Journey to Flavor Begins Here!\"}),/*#__PURE__*/_jsxs(Box,{className:\"orders-container\",children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),// Table Booked Data Mapping\nBookingData.length?BookingData.map(function(data,index){return/*#__PURE__*/_jsx(OrderCard,{OrderData:{data:data,deleteBookingMutation:deleteBookingMutation}},index);}):/*#__PURE__*/_jsx(Typography,{sx:{textAlign:'center',color:'lightgray',fontSize:'30px',padding:'40px 0'},component:\"p\",children:\" No Bookings Found\"})]})]});};export default ManageBooking;","map":{"version":3,"names":["React","OrderCard","Box","Typography","BookingUpdate","TableFilterByStatus","useMutation","useQuery","useQueryClient","Loader","toast","jsx","_jsx","jsxs","_jsxs","ManageBooking","queryClient","_useQuery","queryKey","queryFn","isLoading","data","_useMutation","mutationFn","onSuccess","invalidateQueries","error","deleteBookingMutation","mutateAsync","BookingData","className","children","variant","length","map","index","OrderData","sx","textAlign","color","fontSize","padding","component"],"sources":["/home/arthur/Documents/CmrRestaurant-management-system/src/pages/Orders.jsx"],"sourcesContent":["import React from 'react'\nimport OrderCard from '../components/OrderCard/OrderCard'\nimport {Box, Typography } from '@mui/material'\nimport { BookingUpdate, TableFilterByStatus } from '../API/Table'\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'\nimport Loader from '../components/Loading/Loading'\nimport { toast } from 'react-toastify'\n\nconst ManageBooking = () => {\n  const queryClient = useQueryClient();\n\n  const { isLoading, data } = useQuery({\n    queryKey: [\"booking\"],\n    queryFn: TableFilterByStatus,\n  });\n\n  const { mutateAsync: deleteBookingMutation } = useMutation({\n    mutationFn: BookingUpdate,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"booking\"]);\n      toast.error(\"Table Booking Cancel!\");\n    },\n  });\n\n  const BookingData=data || []\n  return (\n    <Box className='orders'>\n      <Typography className='first-title' variant='h6'>Orders</Typography>\n      <Typography className='second-title' variant='h4'>Your Journey to Flavor Begins Here!</Typography>\n      <Box className='orders-container'>\n        {\n          isLoading && <Loader/>\n        }\n      {\n        // Table Booked Data Mapping\n        BookingData.length ? BookingData.map((data,index)=><OrderCard key={index} OrderData={{data,deleteBookingMutation}}/>) \n        :<Typography sx={{textAlign:'center',color:'lightgray',fontSize:'30px',padding:'40px 0'}} component='p'> No Bookings Found</Typography>\n      }\n      </Box>\n    </Box>\n  )\n}\n\nexport default ManageBooking"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,mCAAmC,CACzD,OAAQC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CAC9C,OAASC,aAAa,CAAEC,mBAAmB,KAAQ,cAAc,CACjE,OAASC,WAAW,CAAEC,QAAQ,CAAEC,cAAc,KAAQ,uBAAuB,CAC7E,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,OAASC,KAAK,KAAQ,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,WAAW,CAAGR,cAAc,CAAC,CAAC,CAEpC,IAAAS,SAAA,CAA4BV,QAAQ,CAAC,CACnCW,QAAQ,CAAE,CAAC,SAAS,CAAC,CACrBC,OAAO,CAAEd,mBACX,CAAC,CAAC,CAHMe,SAAS,CAAAH,SAAA,CAATG,SAAS,CAAEC,IAAI,CAAAJ,SAAA,CAAJI,IAAI,CAKvB,IAAAC,YAAA,CAA+ChB,WAAW,CAAC,CACzDiB,UAAU,CAAEnB,aAAa,CACzBoB,SAAS,CAAE,SAAAA,UAAA,CAAM,CACfR,WAAW,CAACS,iBAAiB,CAAC,CAAC,SAAS,CAAC,CAAC,CAC1Cf,KAAK,CAACgB,KAAK,CAAC,uBAAuB,CAAC,CACtC,CACF,CAAC,CAAC,CANmBC,qBAAqB,CAAAL,YAAA,CAAlCM,WAAW,CAQnB,GAAM,CAAAC,WAAW,CAACR,IAAI,EAAI,EAAE,CAC5B,mBACEP,KAAA,CAACZ,GAAG,EAAC4B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBnB,IAAA,CAACT,UAAU,EAAC2B,SAAS,CAAC,aAAa,CAACE,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,QAAM,CAAY,CAAC,cACpEnB,IAAA,CAACT,UAAU,EAAC2B,SAAS,CAAC,cAAc,CAACE,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,qCAAmC,CAAY,CAAC,cAClGjB,KAAA,CAACZ,GAAG,EAAC4B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAE7BX,SAAS,eAAIR,IAAA,CAACH,MAAM,GAAC,CAAC,CAGxB;AACAoB,WAAW,CAACI,MAAM,CAAGJ,WAAW,CAACK,GAAG,CAAC,SAACb,IAAI,CAACc,KAAK,qBAAGvB,IAAA,CAACX,SAAS,EAAamC,SAAS,CAAE,CAACf,IAAI,CAAJA,IAAI,CAACM,qBAAqB,CAArBA,qBAAqB,CAAE,EAA/CQ,KAAgD,CAAC,GAAC,cACpHvB,IAAA,CAACT,UAAU,EAACkC,EAAE,CAAE,CAACC,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAC,WAAW,CAACC,QAAQ,CAAC,MAAM,CAACC,OAAO,CAAC,QAAQ,CAAE,CAACC,SAAS,CAAC,GAAG,CAAAX,QAAA,CAAC,oBAAkB,CAAY,CAAC,EAEpI,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}