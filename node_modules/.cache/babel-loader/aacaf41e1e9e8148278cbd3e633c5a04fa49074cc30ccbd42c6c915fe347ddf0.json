{"ast":null,"code":"import{Box,Button,Card,Typography}from'@mui/material';import React from'react';import{useNavigate,useParams}from\"react-router-dom\";import'../components/OrderCard/orderDetail.css';import{BookingUpdate,TableFilterById}from'../API/Table';import{useMutation,useQuery,useQueryClient}from'@tanstack/react-query';import Loader from'../components/Loading/Loading';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetail=function OrderDetail(){var navigate=useNavigate();var queryClient=useQueryClient();// url to getting Table Id\nvar _useParams=useParams(),id=_useParams.id;var _useQuery=useQuery({queryKey:[\"table-Details\"],queryFn:function queryFn(){return TableFilterById(id);}}),isLoading=_useQuery.isLoading,data=_useQuery.data;var _useMutation=useMutation({mutationFn:BookingUpdate,onSuccess:function onSuccess(){queryClient.invalidateQueries([\"table\"]);toast.error(\"Table Booking Cancel!\");}}),deleteBookingMutation=_useMutation.mutateAsync;var onSubmit=function onSubmit(id){var data={reservation:{},status:\"Available\"};// console.log(id,data)\ndeleteBookingMutation({id:id,data:data});//navigate to booking Page\nnavigate('/orders');};return/*#__PURE__*/_jsxs(Box,{className:\"OrderDetail\",children:[/*#__PURE__*/_jsx(Typography,{className:\"first-title\",variant:\"h6\",children:\"Summary\"}),/*#__PURE__*/_jsx(Typography,{className:\"second-title\",variant:\"h4\",children:\"Discover Our Flavorful Symphony!\"}),isLoading&&/*#__PURE__*/_jsx(Loader,{}),data?/*#__PURE__*/_jsxs(Card,{className:\"detail-card\",variant:\"outlined\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",padding:1,component:\"div\",children:\"Booking Summary\"}),/*#__PURE__*/_jsxs(Typography,{component:\"li\",children:[\"Order : \",data.reservation.Order]}),/*#__PURE__*/_jsxs(Typography,{component:\"li\",children:[\"Table : \",data.table_no]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Name : \",data.reservation.name]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Email : \",data.reservation.email]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Mobile : \",data.reservation.mobile]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Check-In : \",data.reservation.checkIn]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Time : \",data.reservation.time]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Guest : \",data.reservation.guest]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Booked : \",data.reservation.booked]}),/*#__PURE__*/_jsxs(Typography,{component:\"p\",children:[\"Status : \",data.status]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',padding:1,justifyContent:'end'},children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onSubmit(data.id);},color:\"error\",type:\"button\",variant:\"contained\",children:\"Cancel Booking\"})})]}):/*#__PURE__*/_jsx(Typography,{children:\"No Items Found\"})]});};export default OrderDetail;","map":{"version":3,"names":["Box","Button","Card","Typography","React","useNavigate","useParams","BookingUpdate","TableFilterById","useMutation","useQuery","useQueryClient","Loader","toast","jsx","_jsx","jsxs","_jsxs","OrderDetail","navigate","queryClient","_useParams","id","_useQuery","queryKey","queryFn","isLoading","data","_useMutation","mutationFn","onSuccess","invalidateQueries","error","deleteBookingMutation","mutateAsync","onSubmit","reservation","status","className","children","variant","align","padding","component","Order","table_no","name","email","mobile","checkIn","time","guest","booked","sx","display","alignItems","justifyContent","onClick","color","type"],"sources":["/home/arthur/Documents/CmrRestaurant-management-system/src/pages/OrderDetail.jsx"],"sourcesContent":["import { Box, Button, Card,Typography } from '@mui/material'\nimport React  from 'react'\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport '../components/OrderCard/orderDetail.css'\nimport { BookingUpdate, TableFilterById } from '../API/Table';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport Loader from '../components/Loading/Loading'\nimport { toast } from 'react-toastify';\n\nconst OrderDetail = () => {\n  const navigate=useNavigate()\n\n  const queryClient = useQueryClient();\n\n    // url to getting Table Id\n    let { id } = useParams();\n  const { isLoading, data } = useQuery({\n    queryKey: [\"table-Details\"],\n    queryFn:()=> TableFilterById(id),\n  });\n\n  const { mutateAsync: deleteBookingMutation } = useMutation({\n    mutationFn: BookingUpdate,\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"table\"]);\n      toast.error(\"Table Booking Cancel!\");\n    },\n  });\n\n  const onSubmit=(id)=>{\n    const data={reservation:{},status:\"Available\"}\n    // console.log(id,data)\n    deleteBookingMutation({id,data})\n\n    //navigate to booking Page\n    navigate('/orders')\n  }\n  return (\n    <Box className='OrderDetail' >\n      <Typography className='first-title' variant='h6'>Summary</Typography>\n      <Typography className='second-title' variant='h4'>Discover Our Flavorful Symphony!</Typography>\n      {\n        isLoading && <Loader/>\n      }\n      {\n        data ? <Card className='detail-card' variant='outlined'>\n        <Typography variant='h6' align='center' padding={1} component='div'>Booking Summary</Typography>\n        <Typography component='li'>Order : {data.reservation.Order}</Typography>\n        <Typography component='li'>Table : {data.table_no}</Typography>\n        <Typography component='p'>Name : {data.reservation.name}</Typography>\n        <Typography component='p'>Email : {data.reservation.email}</Typography>\n        <Typography component='p'>Mobile : {data.reservation.mobile}</Typography>\n        <Typography component='p'>Check-In : {data.reservation.checkIn}</Typography>\n        <Typography component='p'>Time : {data.reservation.time}</Typography>\n        <Typography component='p'>Guest : {data.reservation.guest}</Typography>\n        <Typography component='p'>Booked : {data.reservation.booked}</Typography>\n        <Typography component='p'>Status : {data.status}</Typography>\n        <Box sx={{display:'flex',alignItems:'center',padding:1,justifyContent:'end'}}>\n         <Button onClick={()=>onSubmit(data.id)} color='error' type='button' variant='contained'>Cancel Booking</Button>\n        </Box>\n        \n      </Card> : <Typography>No Items Found</Typography>\n      }\n      \n\n    </Box>\n  )\n}\n\nexport default OrderDetail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}