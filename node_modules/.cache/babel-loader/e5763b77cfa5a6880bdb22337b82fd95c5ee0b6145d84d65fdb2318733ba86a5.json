{"ast":null,"code":"import _classCallCheck from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classPrivateFieldInitSpec from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js\";\nimport _classPrivateFieldSet from \"/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js\";\nvar _online, _cleanup, _setup;\n// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = (_online = /*#__PURE__*/new WeakMap(), _cleanup = /*#__PURE__*/new WeakMap(), _setup = /*#__PURE__*/new WeakMap(), /*#__PURE__*/function (_Subscribable) {\n  _inherits(OnlineManager, _Subscribable);\n  var _super = _createSuper(OnlineManager);\n  function OnlineManager() {\n    var _this;\n    _classCallCheck(this, OnlineManager);\n    _this = _super.call(this);\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _online, {\n      writable: true,\n      value: true\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _cleanup, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldInitSpec(_assertThisInitialized(_this), _setup, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldSet(_assertThisInitialized(_this), _setup, function (onOnline) {\n      if (!isServer && window.addEventListener) {\n        var onlineListener = function onlineListener() {\n          return onOnline(true);\n        };\n        var offlineListener = function offlineListener() {\n          return onOnline(false);\n        };\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return function () {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    });\n    return _this;\n  }\n  _createClass(OnlineManager, [{\n    key: \"onSubscribe\",\n    value: function onSubscribe() {\n      if (!_classPrivateFieldGet(this, _cleanup)) {\n        this.setEventListener(_classPrivateFieldGet(this, _setup));\n      }\n    }\n  }, {\n    key: \"onUnsubscribe\",\n    value: function onUnsubscribe() {\n      if (!this.hasListeners()) {\n        var _classPrivateFieldGet2;\n        (_classPrivateFieldGet2 = _classPrivateFieldGet(this, _cleanup)) === null || _classPrivateFieldGet2 === void 0 ? void 0 : _classPrivateFieldGet2.call(this);\n        _classPrivateFieldSet(this, _cleanup, void 0);\n      }\n    }\n  }, {\n    key: \"setEventListener\",\n    value: function setEventListener(setup) {\n      var _classPrivateFieldGet3;\n      _classPrivateFieldSet(this, _setup, setup);\n      (_classPrivateFieldGet3 = _classPrivateFieldGet(this, _cleanup)) === null || _classPrivateFieldGet3 === void 0 ? void 0 : _classPrivateFieldGet3.call(this);\n      _classPrivateFieldSet(this, _cleanup, setup(this.setOnline.bind(this)));\n    }\n  }, {\n    key: \"setOnline\",\n    value: function setOnline(online) {\n      var changed = _classPrivateFieldGet(this, _online) !== online;\n      if (changed) {\n        _classPrivateFieldSet(this, _online, online);\n        this.listeners.forEach(function (listener) {\n          listener(online);\n        });\n      }\n    }\n  }, {\n    key: \"isOnline\",\n    value: function isOnline() {\n      return _classPrivateFieldGet(this, _online);\n    }\n  }]);\n  return OnlineManager;\n}(Subscribable));\nvar onlineManager = new OnlineManager();\nexport { OnlineManager, onlineManager };","map":{"version":3,"names":["Subscribable","isServer","OnlineManager","_online","WeakMap","_cleanup","_setup","_Subscribable","_inherits","_super","_createSuper","_this","_classCallCheck","call","_classPrivateFieldInitSpec","_assertThisInitialized","writable","value","_classPrivateFieldSet","onOnline","window","addEventListener","onlineListener","offlineListener","removeEventListener","_createClass","key","onSubscribe","_classPrivateFieldGet","setEventListener","onUnsubscribe","hasListeners","_classPrivateFieldGet2","setup","_classPrivateFieldGet3","setOnline","bind","online","changed","listeners","forEach","listener","isOnline","onlineManager"],"sources":["/home/arthur/Documents/CmrRestaurant-management-system/node_modules/@tanstack/query-core/src/onlineManager.ts"],"sourcesContent":["import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (online: boolean) => void\ntype SetupFn = (setOnline: Listener) => (() => void) | undefined\n\nexport class OnlineManager extends Subscribable<Listener> {\n  #online = true\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onOnline) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true)\n        const offlineListener = () => onOnline(false)\n        // Listen to online\n        window.addEventListener('online', onlineListener, false)\n        window.addEventListener('offline', offlineListener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', onlineListener)\n          window.removeEventListener('offline', offlineListener)\n        }\n      }\n\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup(this.setOnline.bind(this))\n  }\n\n  setOnline(online: boolean): void {\n    const changed = this.#online !== online\n\n    if (changed) {\n      this.#online = online\n      this.listeners.forEach((listener) => {\n        listener(online)\n      })\n    }\n  }\n\n  isOnline(): boolean {\n    return this.#online\n  }\n}\n\nexport const onlineManager = new OnlineManager()\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}