"use strict";(self.webpackChunkrestaurant_management=self.webpackChunkrestaurant_management||[]).push([[906],{4400:function(t,e,n){n.d(e,{S2:function(){return d},C5:function(){return o},Ks:function(){return c},Rd:function(){return u},dF:function(){return l}});var r=n(4165),a=n(5861),i=n(9655),s=n(1243).Z.create({baseURL:"https://codx-json-server.vercel.app"}),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.get("/api/tables");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),i.Am.error("Somthing Wrong!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.get("/api/tables/"+e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),i.Am.error("Somthing Wrong!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.get("/api/tables?status=Available");case 3:return n=t.sent,a=n.data.filter((function(t){return t.seating_capacity>=e})),t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),i.Am.error("Somthing Wrong!");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.get("/api/tables?status=Booked");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),i.Am.error("Somthing Wrong!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,a=e.data,t.prev=1,t.next=4,s.patch("/api/tables/"+n,a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return o=t.sent,t.abrupt("return",o.data);case 8:t.prev=8,t.t0=t.catch(1),i.Am.error("Somthing Wrong!");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},2906:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});n(2791);var r=n(7621),a=n(4554),i=n(890),s=n(6151),o=n(3400),u=n(1087),c=n(9201),l=n(184),d=(0,c.Z)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),v=function(t){var e=t.OrderData,n=e.data,c=e.deleteBookingMutation;return(0,l.jsxs)(r.Z,{variant:"outlined",className:"order-card",children:[(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(i.Z,{variant:"h6",component:"div",children:n.reservation.name}),(0,l.jsxs)(i.Z,{component:"p",children:["Order : ",n.reservation.Order]}),(0,l.jsxs)(i.Z,{component:"p",children:["Table  : ",n.table_no]})]}),(0,l.jsx)(u.rU,{to:"".concat(n.id),children:(0,l.jsx)(s.Z,{color:"secondary",variant:"outlined",children:"view Table"})}),(0,l.jsx)(o.Z,{onClick:function(){return t=n.id,void c({id:t,data:{reservation:{},status:"Available"}});var t},size:"small",children:(0,l.jsx)(d,{})})]})},h=n(4400),p=n(3713),Z=n(9778),f=n(8556),b=n(2841),m=n(9655),x=function(){var t=(0,p.NL)(),e=(0,Z.a)({queryKey:["booking"],queryFn:h.dF}),n=e.isLoading,r=e.data,s=(0,f.D)({mutationFn:h.S2,onSuccess:function(){t.invalidateQueries(["booking"]),m.Am.error("Table Booking Cancel!")}}).mutateAsync,o=r||[];return(0,l.jsxs)(a.Z,{className:"orders",children:[(0,l.jsx)(i.Z,{className:"first-title",variant:"h6",children:"Orders"}),(0,l.jsx)(i.Z,{className:"second-title",variant:"h4",children:"Your Journey to Flavor Begins Here!"}),(0,l.jsxs)(a.Z,{className:"orders-container",children:[n&&(0,l.jsx)(b.Z,{}),o.length?o.map((function(t,e){return(0,l.jsx)(v,{OrderData:{data:t,deleteBookingMutation:s}},e)})):(0,l.jsx)(i.Z,{sx:{textAlign:"center",color:"lightgray",fontSize:"30px",padding:"40px 0"},component:"p",children:" No Bookings Found"})]})]})}},8556:function(t,e,n){n.d(e,{D:function(){return N}});var r,a,i,s,o,u,c=n(1413),l=n(9439),d=n(2791),v=n(5671),h=n(3144),p=n(7326),Z=n(136),f=n(7277),b=n(101),m=n(2346),x=n(6033),g=n(3889),k=n(3092),y=n(2756),w=n(7211),j=n(8974),S=n(5391),C=(r=new WeakMap,a=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakSet,u=new WeakSet,function(t){(0,Z.Z)(n,t);var e=(0,f.Z)(n);function n(t,c){var l;return(0,v.Z)(this,n),l=e.call(this),(0,b.Z)((0,p.Z)(l),u),(0,b.Z)((0,p.Z)(l),o),(0,m.Z)((0,p.Z)(l),r,{writable:!0,value:void 0}),(0,m.Z)((0,p.Z)(l),a,{writable:!0,value:void 0}),(0,m.Z)((0,p.Z)(l),i,{writable:!0,value:void 0}),(0,m.Z)((0,p.Z)(l),s,{writable:!0,value:void 0}),(0,k.Z)((0,p.Z)(l),a,void 0),(0,k.Z)((0,p.Z)(l),r,t),l.setOptions(c),l.bindMethods(),(0,g.Z)((0,p.Z)(l),o,O).call((0,p.Z)(l)),l}return(0,h.Z)(n,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(t){var e,n=this.options;this.options=(0,x.Z)(this,r).defaultMutationOptions(t),(0,S.VS)(n,this.options)||(0,x.Z)(this,r).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,x.Z)(this,i),observer:this}),null===(e=(0,x.Z)(this,i))||void 0===e||e.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var t;this.hasListeners()||(null===(t=(0,x.Z)(this,i))||void 0===t||t.removeObserver(this))}},{key:"onMutationUpdate",value:function(t){(0,g.Z)(this,o,O).call(this),(0,g.Z)(this,u,M).call(this,t)}},{key:"getCurrentResult",value:function(){return(0,x.Z)(this,a)}},{key:"reset",value:function(){(0,k.Z)(this,i,void 0),(0,g.Z)(this,o,O).call(this),(0,g.Z)(this,u,M).call(this)}},{key:"mutate",value:function(t,e){var n;return(0,k.Z)(this,s,e),null===(n=(0,x.Z)(this,i))||void 0===n||n.removeObserver(this),(0,k.Z)(this,i,(0,x.Z)(this,r).getMutationCache().build((0,x.Z)(this,r),this.options)),(0,x.Z)(this,i).addObserver(this),(0,x.Z)(this,i).execute(t)}}]),n}(j.l));function O(){var t,e,n=null!==(t=null===(e=(0,x.Z)(this,i))||void 0===e?void 0:e.state)&&void 0!==t?t:(0,y.R)();(0,k.Z)(this,a,(0,c.Z)((0,c.Z)({},n),{},{isPending:"pending"===n.status,isSuccess:"success"===n.status,isError:"error"===n.status,isIdle:"idle"===n.status,mutate:this.mutate,reset:this.reset}))}function M(t){var e=this;w.V.batch((function(){var n,r,i,o;if((0,x.Z)(e,s)&&e.hasListeners())if("success"===(null===t||void 0===t?void 0:t.type))null===(n=(r=(0,x.Z)(e,s)).onSuccess)||void 0===n||n.call(r,t.data,(0,x.Z)(e,a).variables,(0,x.Z)(e,a).context),null===(i=(o=(0,x.Z)(e,s)).onSettled)||void 0===i||i.call(o,t.data,null,(0,x.Z)(e,a).variables,(0,x.Z)(e,a).context);else if("error"===(null===t||void 0===t?void 0:t.type)){var u,c,l,d;null===(u=(c=(0,x.Z)(e,s)).onError)||void 0===u||u.call(c,t.error,(0,x.Z)(e,a).variables,(0,x.Z)(e,a).context),null===(l=(d=(0,x.Z)(e,s)).onSettled)||void 0===l||l.call(d,void 0,t.error,(0,x.Z)(e,a).variables,(0,x.Z)(e,a).context)}e.listeners.forEach((function(t){t((0,x.Z)(e,a))}))}))}var A=n(3713),W=n(8981);function N(t,e){var n=(0,A.NL)(e),r=d.useState((function(){return new C(n,t)})),a=(0,l.Z)(r,1)[0];d.useEffect((function(){a.setOptions(t)}),[a,t]);var i=d.useSyncExternalStore(d.useCallback((function(t){return a.subscribe(w.V.batchCalls(t))}),[a]),(function(){return a.getCurrentResult()}),(function(){return a.getCurrentResult()})),s=d.useCallback((function(t,e){a.mutate(t,e).catch(L)}),[a]);if(i.error&&(0,W.L)(a.options.throwOnError,[i.error]))throw i.error;return(0,c.Z)((0,c.Z)({},i),{},{mutate:s,mutateAsync:i.mutate})}function L(){}}}]);
//# sourceMappingURL=906.36dad787.chunk.js.map